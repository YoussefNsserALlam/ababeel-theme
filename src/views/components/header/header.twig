{#
| Variable         | Type    | Description                     |
|------------------|---------|---------------------------------|
| cart             | object  |                                 |
| cart.items_count | int     |                                 |
| cart.total       | string  | Formatted total ex: "١٠٠ ر.س"   |
#}
<style>
    #Search-modal .s-modal-wrapper
{
    display: flex;
    justify-content: center;
    align-items: center;
}
#Search-modal .s-modal-body
{
    width: 90%;
    padding: 0;
    position: fixed;
    top: 20%;
    height: fit-content;
    margin: 5%;
}
#Search-modal input
{
    font-size: 20px;
}
.header_up_allam
{
    padding-top: 10px;
    padding-bottom: 10px;
}
#mainnav
{
    background-color: transparent;
        position: fixed;
    top: 0;
    width: 100%;
    z-index: 100;
}
.ababeel-fixed-header
{
    backdrop-filter: blur(40px);
}
.navbar-brand img
{
    max-height:4rem;
    filter: invert(1);
}
.ababeel-fixed-header .navbar-brand img
{
    filter: invert(0) !important;
}
.header-btn__icon, #mainnav i 
{
    border:none;
    color:white;
}
.ababeel-fixed-header i
{
    color:black !important;
}
</style>
{% set important_links = theme.settings.get('important_links') %}
<header class="store-header">
  {# Top Nav #}
  
  {# <div class="top-navbar">
    <div class="container flex justify-between">
      <div class="flex-1 flex items-center gap-2">
          Footer Menu
          {% if important_links %}
            <salla-menu source="footer" topnav></salla-menu>
            
          {% endif %}

          Language & Currency Component
          <div class="header-buttons">
              {% if store.settings.is_multilingual or store.settings.currencies_enabled %}
                  <button type="button" onclick="salla.event.dispatch('localization::open')" class="btn--rounded-gray basis-0">
                      <span class="flag iti__flag iti__{{ user.language.country_code }} rounded-sm"></span>
                      <span class="mx-1.5">|</span> <span>{{ currency.symbol }}</span>
                  </button>
                  <salla-localization-modal></salla-localization-modal>
              {% endif %}
          </div>

          Scopes | Branches
          {% if store.scope %}
              <button class="btn--rounded-gray"
                      onclick="salla.event.dispatch('scopes::open', {'mode': 'default'})">
                  <i class="sicon-location rtl:ml-1 ltr:mr-1"></i> {{ store.scope.name }}
              </button>
          {% endif %}


      </div>

      <salla-contacts is-header></salla-contacts>
    </div>
  </div> 
  #}

  {# Main Nav #}
  <div id="mainnav" class="main-nav-container shadow-default bg-white">
      <div class="inner bg-inherit">
          <div class="container">
              <div class="flex items-stretch justify-between relative header_up_allam">
                  <div class="flex items-center">
                      <a class=" mburger mburger--collapse leading-none rtl:ml-4 ltr:mr-4" href="#mobile-menu" aria-label="Open-menu">
                        <i class="sicon-menu text-primary text-2xl"></i>
                      </a>
                      <custom-main-menu></custom-main-menu>
                      <!-- Button to Activate the Modal-->
<button onclick="(function(){event.preventDefault();
    document.querySelector('#Search-modal').open();
    return false;})();
    "data-modal-id="Search-modal">
        <i class="fa-solid fa-magnifying-glass" ></i>
</button>

<!-- Modal Settings -->
     <salla-modal id="Search-modal">
          {# Search bar #}
          <div class="header-search flex-1">
          <salla-search inline oval height="46px"></salla-search>
          </div>
     </salla-modal> 
                  </div>

                  {# center-logo #}
      <div class="flex justify-center items-center">
           <a class="navbar-brand" href="{{ store.url }}">
              <img fetchpriority="high" width="100%" height="100%" loading="eager" src="{{ store.logo }}" alt="{{ store.name }} logo">
                  {% if is_page('index') %}
                      <h1 class="sr-only">{{ store.name }}</h1>
                  {% else %}
                      <h2 class="sr-only">{{ store.name }}</h2>
                  {% endif %}
            </a>
      </div>
                  <div class="flex items-center justify-end">
                      {% if user.type=='user' %}
                        <salla-user-menu avatar-only show-header></salla-user-menu>
                      {% else %}
                          <button class="header-btn" aria-label="user-icon" onclick="salla.event.dispatch('login::open')">
                            <i class="header-btn__icon sicon-user-circle"></i>
                          </button>
                      {% endif %}
                      
                      <salla-cart-summary class="ml-4 rtl:ml-[unset] rtl:mr-4">
                        <i slot="icon" class="header-btn__icon icon sicon-shopping-bag"></i>
                      </salla-cart-summary>
                  </div>
              </div>
          </div>
      </div>
  </div>

</header>
{% if store.scope %}
    <salla-scopes selection="{{ store.scope.display_as == 'popup' ? 'mandatory' : 'optional' }}"></salla-scopes>
{% endif %}


{# 
main-nav-container shadow-default bg-white

main-nav-container shadow-default bg-white fixed-pinned animated fixed-header

#}
